### Предыстория 1

Вы — QA инженер на космическом корабле, который летит покорять новые галактики. 
Корабль новый и навороченный, но некоторые его части сделаны по принципу "работает — не трогай".
Именно так реализован датчик температуры. Шел 2070 год, а к датчику все еще обращаются по HTTP 1.1 через GET-запросы.
API принимает на вход параметр "?temperature=", в качестве выходных данных отдает вердикт — в каком состоянии будет вода при такой температуре, 
вроде система работает только градусами Цельсия, но кажется раньше она работала и с другими шкалами измерения.
Командир корабля попросил убедиться, что датчик "нормально работает". К сожалению, требований к датчику не сохранилось.

### Задание 1
Пожалуйста, напишите тесты на [API сервиса](http://localhost:8888/temperature_check) по анализу температуры. 
Мы хотим увидеть набор тестов, который поможет проверить, что датчик работает корректно,
если тесты выявят ошибки в его работе - пожалуйста сообщите нам.

*Hint* установка и запуск:

* Код сервиса находиться в папке ./api_server;
* Вам необходимо установить для работы сервера debian пакеты находящиеся
  в файле ./api_server/debinan_requirements.txt 
  (простой способ установки ```sudo apt-get install $(cat ./api_server/debinan_requirements.txt)```);
* Создайть виртуальное окружение командой  ```virtualenv venv -p python3```;
* Установить python пакеты из ./api_server/python_requirements.txt. ```(./venv/bin/pip install -r ./api_server/python_requirements.txt)```
* Добавте в python path папку с сервером ```export PYTHONPATH="$PYTHONPATH:/$(pwd)/api_server"```;
* Для запуска сервера сервиса выполните командут ```./venv/bin/python3 ./api_server/server.py``` - по умолчанию он будет работать на 8888 порту.


### Решение 1
#### Объект проверки?
Существующий сервис анализа температуры

#### Как этим пользуются?
Отправляют сервису данные о температуре с помощью запроса "?temperature=". В ответ ожидают строку, в которой указано агрегатное состояние воды для переданного значения температуры. Вероятнее всего, сервисом пользуются для анализа значений температуры по шкале Цельсия, но возможно есть какие то модули корабля использующиее данный сервис по другому.

#### Анализ входных данных
Необходимо проверить корректную работу сервиса, для которого нет требований, но есть исходный код. Проанализировав код можно сделать несколько уточнений, которые конкретизируют задачу написания тест-кейсов:

* В ответ на целое число сервис возвращает агрегатное состояние в градусах Цельсия и статус 200 (OK)
* Сервис должен корректно обрабатывать числа с плавающей точкой. Округлять их в большую или меньшую сторону, до целого значения. (данная логика в коде не реализована и можно было предположить, что сервис должен игнорировать float. Однако, логика обрабатывающая данные после регулярного выражения (temperature.isdigit()) отсекает не только float, но и отрицательные числа, что критично. Следовательно, этот код требует доработок, при добавлении которых, возможно будет реализовано округление float до int)
* В коде реализована возможность переключения шкалы измерения, система может работать со шкалами цельсия, фаренгейта и кельвина. Для того что бы указать системе в какой шкале вычислять агрегатное состояние, необходимо после значения температуры указать (C, F или K).
Например 100С - 100 градусов Цельсия, 5K - 5 по Кельвину, 50F - 50 градусов по Фаренгейту.
* Не очевидно, какое максимальное значение температуры должен обрабатывать сенсор. Исходя из кода, на данный момент для разных шкал это значение разное, для цельсия 999998, фаренгейта 9998, кельвина 998. Логично предположить, что для всех шкал это значение должно быть одинаковым. Пусть оно будет равным 999998 по цельсию, все выше этого значения будет иметь статус unknown.
* Минимальная температура не может быть ниже чем -273 градуса по Цельсию, 0 по Кельвину -241 по Фаренгейту.

Для удобства проектирования кейсов состявляю таблицу с диапазонами

|Ожидаемое состояние\Модификатор запроса| Без модификатора|Модификатор 'C'|Модификатор 'K'|Модификатор 'F'|
|:-:|:-:|:-:|:-:|:-:|
|unknown|t<-273|t<-273|t<0|t<-459|
| ice|274<t<1|274<t<1|-1<t<274|-460<t<33|
| liquid|0<t<100|0<t<100|273<t<374|32<t<213|
|steam|99<t<999999|99<t<999999|373<t<1000272|212<t<1800029|
|unknown|999998<t|999998<t|t>1000271|1800028<t|

#### Тесты
Применяю технику разделения на эквивалентные классы и граничные значения.

#### Позитивные тесты
Сгруппировал все кейсы в таблицу.

| Ожидаемое состояние\Модификатор запроса |                    Без модификатора                    |                     Модификатор 'C'                    |                      Модификатор 'K'                     |                       Модификатор 'F'                      |
|:----------------:|:------------------------------------------------------:|:------------------------------------------------------:|:--------------------------------------------------------:|:----------------------------------------------------------:|
|unknown | -400.49; -399; -274; -273.51|-666.66; -299; -274; -273.51|-143.2; -23; -1; -0.51 |-999.999; -500; -460; -459.51 |
|ice|-273.49; -273; -272.49; -272; -199.99; -50; -1; -0.51|-273.49; -273; -272.49; -272; -143.287; -30; -1; -0.51|-0.49; 0; 0.49; 1; 187.1; 270; 273; 273.49;| -459.49; -459; -458.51; -458; -200.1; -27; -0.49; 0; 0.49; 32; 32.49|
|liquid|-0.49; 0; 0.49; 1; 36.666; 88; 99; 99.49|-0.49; 0; 0.49; 1; 74.1; 53; 99; 99.49|273.51; 274; 274.49; 275; 314.14; 299; 373; 373.49|32.5; 33; 33.49; 34; 78.66; 189; 211; 211.49|
|steam|99.50; 100; 100.49; 101; 159.9; 350; 999998; 999998.49|99.50; 100; 100.49; 101; 213.222; 1050; 999998; 999998.49| 373.51; 374; 374.49; 375; 232500.2; 469821; 1000270; 1000270.49| 211.50; 212; 212.49; 213; 1232500.2; 1600000; 1800028; 1800028.49 |
| unknown | 999998.501; 999999; 999999.49; 1000000; 2123212.21; 44322344 | 999998.5001; 999999 999999.49; 1000000; 1974212.21; 73222144 | 1000270.50; 1000271; 1000271.49; 1000272; 3000000.1;  8888888 | 1800028.51; 1800029; 1800029.49; 1800030; 3000000.1; 8888888  |

*Как пользоваться.* 
Что бы проверить кейс, необходимо взять значение из ячейки, затем подставить к значению модификатор из соответсвующей колонки. Например -666.66С, отправить сервису температруры, ожидаемый результат смотреть в соответсвующей строке, для данного запроса это unknown.  Для данных кейсов ответ от сервиса должен приходить со статусом 200 (OK).

#### Негативные тесты
Передаю данные, которые сервис не ожидает получить. Все запросы должны быть обработаны корректно. В ответ на запрос сервис должен возвращать "Invalid temperature" + входящее значение. Статус возврата должен быть 400(Bad Request).

| Тип данных |Запросы|Пример запроса|
|---------------------|:-------------------------------------:|-----------------------|
| Пустые значения|Пустая строка; Модификаторы без данных; Пробелы и табуляции|t=; t=С; t=F; t=K; t=   ;t=                 ;                                                                                                                                                                                                                                                                                      |
| Cтроковые значения  | Строка из одного символа; Строка из low символов; Строка из upper символов; Строка из upper и low символов; Очень большая строка; Строка в различных кодировках; Сочетание цифры+строка|t=a; t=A; t=aabbcc; t=AABBCC; t="очень большая строка"; t=\u041f\u0440\u0438\u0432\u0435\u0442; t=ÐÑÐ¸Ð²ÐµÑ; t=0000041f0000044000000438000004320000043500000442; t=\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82; t=%d0%9f%d1%80%d0%b8%d0%b2%d0%b5%d1%82; t=010550108801080010740107701090; t=12345A; t=A12345; t=12345aAAAAa |
| Числа|Очень большие числа; Неожидаемые числа | t=1222312312223123334545...111112321123;  t=010; t=-001; t=+01110|
| Специальные символы | Различные комбинации специальных символов| t="№""!; t=@№##"!^^&; t=!@#$%^&*()=+;|

#### Нагрузочные тесты
Так как к данному сервису обращаются по сети, необходимо проверить, как он ведет себя под нагрузкой.
Нагрузочные кейсы.
1. Запросить состояние 50 раз.
2. Запросить состояние 5000 раз.
3. Запросить состояние 5000 раз с помощью различных запросов.


#### Найденные ошибки

Так как сервис уже работает и никто не помнит может ли он работать с шкалой измерений отличной от градусов Цельсия, сгруппирую ошибки по этому фактору.
*Может быть никого не интересует как датчик работает с модификаторами "C", "F", "K".*

|ID| Bug #1 |
|--|--|
|Summary|Отсутствует возможность работы с отрицательными значениями|
|Severity|S2 Критический|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=-10|
|Result|"Internal Server Error" (500)|
|Expected Result|"ice" (200)|
|**ID**| **Bug #2** |
|Summary|Сервис возвращает неверное состояние в ответ на конкретное значение|
|Severity|S2 Критический|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=0|
|Result|"unknown" (200)|
|Expected Result|"ice" (200)|
|**ID**|**Bug #3**|
|Summary|Сервис возвращает неверное состояние  в ответ на конкретное значение|
|Severity|S2 Критический|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=99|
|Result|"unknown" (200)|
|Expected Result|"liquid" (200)|
|**ID**|**Bug #4**|
|Summary|Отсутствует возможность работы с числами с плавающей точкой|
|Severity|S2 Критический|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=0.1|
|Result|"Internal Server Error" (500)|
|Expected Result|"ice" (200)|
|**ID**|**Bug #5**|
|Summary|Сервис возвращает неверное состояние в ответ на любую последовательность  вида: ```\d{1,9}\w[^'C','F','K']```|
|Severity|S3 Значительная|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=111111111S|
|Result|"Internal Server Error" (500)|
|Expected Result|"Invalid temperature 111111111S" (400)|
|**ID**|**Bug #6**|
|Summary|Сервис возвращает неверное состояние в ответ на любую последовательность  вида: ```\[0]\d{1,8}```|
|Severity|S3 Значительная|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=01|
|Result|"Internal Server Error" (500)|
|Expected Result|"Invalid temperature 01111" (400)|
|**ID**|**Bug #7**|
|Summary| Не верно задана нижняя граница диапазона "ice" шкалы измерения "Celsius". Минимальное значение принадлежащее данному диапазону должно быть равно -273. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #1.*|
|Severity|S3 Значительная|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=-274|
|Result|"ice" (200)|
|Expected Result|"unknown" (200)|
|**ID**|**Bug #8**|
|Summary| Модификаторы выбора шкалы измерения, работаю неверно. Модификатор 'C' активирует шкалу Кельвина. Модификатор 'K' активирует шкалу Цельсия. Должно быть наоборот.|
|Severity|S3 Значительная|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|1. Отправить запрос ?temperature=10C;  2. Отправить запрос ?temperature=270K; 3. Отправить запрос ?temperature=300C; 3. Отправить запрос ?temperature=90K;|
|Result|1."ice" (200) 2."steam" (200) 3. "liquid" (200); 4. "liquid" (200)|
|Expected Result|1. "liquid" (200); 2. "ice" (200); 3. "steam" (200); 4. "ice" (200)|
|**ID**|**Bug #9**|
|Summary| Модификаторы выбора шкалы измерения, работаю неверно. Модификатор 'F' не активирует шкалу измерения "Fahrenheit"|
|Severity|S3 Значительная|
|Priority|P1 Высокий|
|Status|Новый|
|Steps to Reproduce|1. Отправить запрос ?temperature=10F|
|Result|"Unknown temperature scale system fahrenheit, with temperature 10F"|
|Expected Result|"liquid" (200)|
|**ID**|**Bug #10**|
|Summary| Сервис возвращает неверное состояние в ответ на конкретное значение. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #8.*|
|Severity|S3 Значительная|
|Priority|P2 Средний|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=273K|
|Result|"unknown" (200)|
|Expected Result|"ice" (200)|
|**ID**|**Bug #11**|
|Summary| Сервис возвращает неверное состояние в ответ на конкретное значение. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #8.*|
|Severity|S3 Значительная|
|Priority|P2 Средний|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=373K|
|Result|"Unknown temperature scale system fahrenheit, with temperature 10F" (400)|
|Expected Result|"ice" (200)|
|**ID**|**Bug #12**|
|Summary| Сервис возвращает неверное состояние в ответ на конкретное значение. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #9.*|
|Severity|S3 Значительная|
|Priority|P2 Средний|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=211F|
|Result|"unknown" (200)|
|Expected Result|"ice" (200)|
|**ID**|**Bug #13**|
|Summary| Не верно задана нижняя граница диапазона "ice" шкалы измерения "Fahrenheit". Минимальное значение принадлежащее данному диапазону должно быть равно -459. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #1 и bug #9.*|
|Severity|S3 Значительная|
|Priority|P2 Средний|
|Status|Новый|
|Steps to Reproduce|Отправить запрос ?temperature=-460F|
|Result|"ice" (200)|
|Expected Result|"unknown" (200)|
|**ID**|**Bug #14**|
|Summary| Не верно задана верхняя граница диапазона "steam" шкалы измерения "Kelvin". Максимальное значение принадлежащее данному диапазону должно быть равно 1000271. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #8.*|
|Severity|S4 Незначительная|
|Priority|P3 Низкий|
|Status|Новый|
|Steps to Reproduce|1. Отправить запрос ?temperature=1000271K; 2. Отправить запрос ?temperature=1000272K|
|Result|1. "unknown" (200); 2. "unknown" (200);|
|Expected Result|1. "steam" (200); 2. "unknown" (200);|
|**ID**|**Bug #15**|
|Summary| Не верно задана верхняя граница диапазона "steam" шкалы измерения "Fahrenheit". Максимальное значение принадлежащее данному диапазону должно быть равно 1800028. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #9.*|
|Severity|S4 Незначительная|
|Priority|P3 Низкий|
|Status|Новый|
|Steps to Reproduce|1. Отправить запрос ?temperature=1800028F; 2. Отправить запрос ?temperature=1800029F|
|Result|1. "unknown" (200); 2. "unknown" (200);|
|Expected Result|1. "steam" (200); 2. "unknown" (200);|
|**ID**|**Bug #16**|
|Summary| Существует ограничение максимального количество знаков значения температуры (10 значащих цифр). Если передавать число с плавающей точкой, близкое по значению к макимуму диапазона 'steam' шкал измерения "Fahrenheit" и "Kelvin", возникает ошибка. *Примечание. Этот bug невозможно воспроизвести пока открыт bug #4.*|
|Severity|S4 Незначительная|
|Priority|P3 Низкий|
|Status|Новый|
|Steps to Reproduce|1. Отправить запрос ?temperture=1000270.49K; 2. Отправить запрос ?temperature=1800028.50F|
|Result|1. "length of value must be at most 10" (400); 2. "length of value must be at most 10" (400);|
|Expected Result|1. "steam" (200); 2. "steam" (200);|

*Я внес изменения в код сервера, что бы убедится, что мои тесты проходят. Не победил только юникод и последовательности типа 07, 007 и т.д*
*Тесты запускаются командой ```./venv/bin/python3 ./api_server/tests.py```*

### Предыстория 2
Вы с коллегами проектируете главный графический интерфейс развлекательного экрана корабля, который показывает информацию на дисплеях. В процессе возникла сложность — разные части корабля заточены под разные технологии. Унифицировать их слишком тяжело и дорого, поэтому решено было просто поддержать разные версии всего.
Развлекательный экран должен работать с:

* английским и русским языками;
* соединяться и корректно работать с Mysql/Postgres и MongoDB базами (да, прошло 50 лет, а ничего лучше так и не придумали);
* дисплеями моделей Nova и SuperNova.

### Задание 2
Составьте таблицу проверок, которая поможет удостовериться, что все будет работать как надо. Помните, что чем меньше проверок — тем лучше. 

### Решение 2
#### Объект проверки.
Интерактивная, развлекательная система корабля, оснащенная графическим интерфесом.

#### Как этим будут пользоваться?
Система будет подключатся к различным модулям корабля. Парсить из базы данных данного
модуля интересную информацию, а затем отображать информацию на экранах.

#### Какие есть условия и ограничения?
* Информация должна выводится на русском и английском языках.
* Дисплеи для вывода информации могут быть моделей Nova и SuperNova.
* Экран должен возаимодействовать со всеми возможными модулями корабля.
* Известно, что модули корабля оснащаются различными базами данных и всего их три разновидности, а именно Postgres, MongoDb, MySql.

#### Анализ входных данных
* В задании не уточняется, отличаются ли интерфесы отображения информации дисплея Nova от интерфеса дисплея SuperNova. Обычно, интерфейс входного сигнала графических устройств универсален, но предположу, что на космическом корабле эти дисплеи имеют разные интерфейсы (например nova находится внутри корабля, а supernova снаружи). Значит нашей системе перед тем как отображать информацию на дисплее необходимо привести ее в соответствие с интерфейсом дисплея. Так же, полагаем, что в один момент времени информация может отображаться на дисплеях разных моделей и на всех дисплеях отображается одно и то же (т.е. информация дублируется).

* В задании не уточняется на скольких языках, в один момент времени будет отображаться информация на конкретном дисплее. Так как это технологичный космический корабль полагаю, что в один момент времени на конкретном дисплее информация может отображаться на русском, английском и на двух языках одновременно.

* Информация относительно модулей тоже не полная. Неизвестно, может быть модуль без базы данных. Так же неизвестно, может ли на одном модуле быть 2 базы данных или сразу все 3 базы данных. Аналогично предыдущим случаям предположим, что все это может быть. Так же полагаем, что в один момент времени на дисплеях отображается информация об одном конкретном модуле.

#### Проверка
Для проверки составлю таблицу всех возможных конечных состояний системы.

<table>
  <tr>
    <th class="tg-6nwz">Дисплеи</th>
    <th class="tg-0r18" colspan="3">Nova</th>
    <th class="tg-0r18" colspan="3">SuperNova</th>
  </tr>
  <tr>
    <td class="tg-6nwz">Модули\Языки</td>
    <td class="tg-0r18">ru</td>
    <td class="tg-0r18">en</td>
    <td class="tg-0r18">ru+en</td>
    <td class="tg-0r18">ru</td>
    <td class="tg-0r18">en</td>
    <td class="tg-0r18">ru+en</td>
  </tr>
  <tr>
    <td class="tg-6nwz">None</td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
  </tr>
  <tr>
    <td class="tg-6nwz">M</td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">P</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">S</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">MP</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">MS</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">PS</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">MPS</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
</table>

где ru - русский, en - английский, ru+en - русский+английский
    None - модуль без базы данных, M - модуль с MongoDb,
    P - модуль с Postgress, S - модуль с MySql,
    MP -  модуль с MongoDb + Postgress и т.д.

Исходя из этой таблицы имеем 48 кейсов, подтверждающих что все работает как надо.

Однако, следует учитывать, что данная таблица составлена всего для 8 (различных по реализации) модулей. Естественно, для успешной проверки системы, она должна проверятся с каждым модулем корабля, а их может быть довольно много. На 100 модулей будет уже 600 кейсов.

В данном случае нет смысла проверять каждый модуль, с каждой возможной реализацией
отображения информации, а применить технику "Попарного тестирования" и проверить
только комбинации значений каждой пары параметров.

Таким образом, итоговая таблица проверок в случае с 8ю модулями будет
выглядить следующим образом.

<table>
  <tr>
    <th class="tg-6nwz">Дисплеи</th>
    <th class="tg-0r18" colspan="3">Nova</th>
    <th class="tg-0r18" colspan="3">SuperNova</th>
  </tr>
  <tr>
    <td class="tg-6nwz">Модули\Языки</td>
    <td class="tg-0r18">ru</td>
    <td class="tg-0r18">en</td>
    <td class="tg-0r18">ru-en</td>
    <td class="tg-0r18">ru</td>
    <td class="tg-0r18">en</td>
    <td class="tg-0r18">ru-en</td>
  </tr>
  <tr>
    <td class="tg-6nwz">None</td>
    <td class="tg-0r18">V</td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
  </tr>
  <tr>
    <td class="tg-6nwz">M</td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18">V</td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
    <td class="tg-0r18"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">P</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l">V</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">S</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l">V</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">MP</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l">V</td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">MS</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l">V</td>
  </tr>
  <tr>
    <td class="tg-yw4l">PS</td>
    <td class="tg-yw4l">V</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
  <tr>
    <td class="tg-yw4l">MPS</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l">V</td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
    <td class="tg-yw4l"></td>
  </tr>
</table>

Где "V" - отмечены тесты которые необходимо выполнить

### Задание 3
Пожалуйста, напишите 3 автотеста на интерфейс semrush.com.
* Тест 1: залогиниться под пользователем в SEMrush;
* Тест 2: создайте новую заметку на /notes;
* Тест 3: создайте новый проект;
*Hint*: тесты должны стабильно проходить.

В качестве языка для реализации возьмите Python. Вы можете выбрать любой подход, паттерн проектирования и фреймворк.

###  Решение 3

Для решения я использовал selenium. Код тестов находится в папке semrush_autotest. 
*Как запускать*
 * Создать виртуальное окружение (если его нет) командой  ```virtualenv venv -p python3```;
 * Установить python пакеты из ./semrush_autotests/python_requirements.txt. ```(./venv/bin/pip install -r ./semrush_autotests/python_requirements.txt)```
 * Установить geckodriver для Firefox (https://github.com/mozilla/geckodriver/releases)
 * Для запуска тестов выполнить команду ```./venv/bin/python3 ./semrush_autotests/tests.py```

### Предыстория 4
Вы временно остались вдвоем в команде с начинающим python разработчиком, 
он пытается написать граббер ссыллок и даже попробовал добавить в него тесты и логи.
Сейчас он предлагает выкатить его скрипт на сервер, но обычно перед этим всегда делаеться код ревью.

### Задание 4
Посмотрите код скрипта ./junior_python_developer_code/check_urls_availability.py - если 
у вас есть по нему замечания и исправления добавьте коментарии к коду.

### Решение 4
* main не выполняется. Тесты оформлены непосредственно в скрипте, они не проходят и блокируют выполнение. Тесты нужно оформить в виде unittest. 
* Если бы тесты не блокировали выполнение main. Получил бы ошибку интерпретатора (TypeError: __init__() missing 1 required positional argument: 'fetched_urls')
* Включение логов по "фазе луны" сильно затрудняет процесс отладки. 
* Отключение логов по "фазе луны" затрудняет запуск скрипта в продакшене (что если там логи будут не нужы)
* Написание кода не соответсвует стандарту PEP 8 (все импорты должны быть вверху, количество пустых строк перед объявлением модулей, класса)
* Опечатки (reuzuult1, reuzuult2)
* В NEEDED_URLS дублирующаяся ссылка 'https://yandex.ru/time/'
* NEEDED_URLS должен быть tuple. 
* Конструкция:
```
urls_size = len(urls)
while urls_size:
        url = urls.pop()
        ...
        urls_size -= 1
```
будет удалять url из аргумента. Так как они передаются по ссылке

* В предистории сказано, что это должен быть граббер ссылок. Скрипт называется "check_urls_availability" и в комментариях написано: "данный код проверяет что поисковые сервисы доступны". Исходя из этого можно сделать вывод, что по результатам работы код должен отдавать результат формата {url1: avaliable(True), url2: not avaliable(False) ...}. В данном исполнении (если бы этот код запускался), код возвращает список [url1.body, url2.body], по которому сложно понять доступен сервис или нет.
* Класс ```UrlGetter``` реализует странную логику в части кеширования ссылок. Метод ```get_urls_data``` возвращает данные только для тех ссылок, которых нет в кэше. Пример
```
getter =  UrlGetter([])
data = getter.get_urls_data(NEEDED_URLS) # data = [body1, body2, body3]
data = getter.get_urls_data(NEEDED_URLS) # data = []
```
Логично предположить, что это неверное поведение.
* Класс UrlGetter содержит метод ```check_url_not_fetched```, который не вызывается нигде кроме тестов.
* Кэш хранится внутри области видимости класса, а так же в глобальной области видимости. Может быть рациональнее хранить его только глобально. Например разные объекты ```UrlGetter``` могут использовать один кэш. 
* Загрузку данных по сети неплохо оформить в несколько потоков, а не грузить ссылки по одной.
*
```
def get_fetch_urls(urls, cache={}) # cache - Default argument value is mutable
```
cache хранится в памяти и доступен по ссылке. 
PyCharm предлагает делать так: 
```
def get_fetch_urls(urls, cache=None):
    if cache is None:
        cache = {}
```

*Я попытался максимально упростить код задания.*

## Как и куда отправлять решение
 * Склонируйте себе репозиторий;
 * Оформите ваше решение в коде;
 * Отправьте pull request в этот репозиторий с вашим решением.
